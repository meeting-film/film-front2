webpackJsonp([7],{AYVu:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-container",attrs:{id:"app"}},[t._m(0),t._m(1),t.cinemaInfo?a("table",{staticClass:"order-table"},[t._m(2),a("tbody",[a("tr",[a("td",{staticClass:"movie-name"},[t._v(t._s(t.cinemaInfo.cinemaName))]),a("td",{staticClass:"showtime"},[t._v(t._s(t.cinemaInfo.fieldTime))]),a("td",{staticClass:"cinema-name"},[t._v(t._s(t.cinemaInfo.filmName))]),a("td",[a("div",{staticClass:"seats"},[a("div",[a("span",[t._v(t._s(t.cinemaInfo.seatsName))])])])])])])]):t._e(),a("div",{staticClass:"right"},[t.cinemaInfo&&t.cinemaInfo.orderPrice?a("div",{staticClass:"price-wrapper"},[a("span",[t._v("实际支付 :")]),a("span",{staticClass:"price"},[t._v(t._s(t.cinemaInfo.orderPrice))])]):t._e(),a("div",{staticClass:"order-pay"},[a("div",{staticClass:"pay-btn",on:{click:t.confirmOrder}},[t._v("扫码支付")]),a("a",{directives:[{name:"show",rawName:"v-show",value:t.showQrcode,expression:"showQrcode"}],staticClass:"qrcode",attrs:{href:"javascript:;"}},[a("img",{attrs:{src:t.qrcodeImg,alt:""}})])])]),t._m(3),t.showModal?a("div",{staticClass:"modal-container"},[t._m(4)]):t._e()])};r._withStripped=!0;var o={render:r,staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-progress-bar"},[a("div",{staticClass:"step first done"},[a("span",{staticClass:"step-num"},[t._v("1")]),a("div",{staticClass:"bar"}),a("span",{staticClass:"step-text"},[t._v("选择影片场次")])]),a("div",{staticClass:"step done"},[a("span",{staticClass:"step-num"},[t._v("2")]),a("div",{staticClass:"bar"}),a("span",{staticClass:"step-text"},[t._v("选择座位")])]),a("div",{staticClass:"step done"},[a("span",{staticClass:"step-num"},[t._v("3")]),a("div",{staticClass:"bar"}),a("span",{staticClass:"step-text"},[t._v("14分钟内付款")])]),a("div",{staticClass:"step last "},[a("span",{staticClass:"step-num"},[t._v("4")]),a("div",{staticClass:"bar"}),a("span",{staticClass:"step-text"},[t._v("影院取票观影")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"warning"},[this._v("请仔细核对场次信息，出票后将"),e("span",{staticClass:"attention"},[this._v("无法退票和改签")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("影片")]),e("th",[this._v("时间")]),e("th",[this._v("影院")]),e("th",[this._v("座位")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("form",{attrs:{name:"cashierForm",method:"post",action:"https://mpay.meituan.com/cashier/pc/index"}},[e("input",{attrs:{type:"hidden",name:"token",value:""}}),e("input",{attrs:{type:"hidden",name:"tradeno",value:""}}),e("input",{attrs:{type:"hidden",name:"pay_token",value:""}}),e("input",{attrs:{type:"hidden",name:"website",value:"mtmaoyan"}}),e("input",{attrs:{type:"hidden",name:"pay_success_url",value:"http://www.maoyan.com/order/result/3401446999"}}),e("input",{attrs:{type:"hidden",name:"nb_platform",value:"www"}}),e("input",{attrs:{type:"hidden",name:"nb_source",value:"cashier-pcforcustomer"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal"},[e("span",{staticClass:"icon"}),e("p",{staticClass:"tip"},[this._v("支付成功")])])}]};e.a=o},LiER:function(t,e,a){var r=a("tlPq");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("06d88b60",r,!1,{sourceMap:!1})},Oe00:function(t,e,a){"use strict";var r=a("lbHh"),o=a.n(r),n=a("YFWx");e.a={head:function(){return{title:"支付",meta:[{hid:"支付",name:"支付",content:"支付"}]}},data:function(){return{showModal:!1,showQrcode:!1,cinemaInfo:{},tryNums:0,qrcodeImg:""}},mounted:function(){this.getSeatList()},methods:{getSeatList:function(){this.cinemaInfo=JSON.parse(o.a.get("cinemaInfo"))},confirmOrder:function(){var t=this,e=null,a={orderId:this.$router.history.current.query.orderId},r=this;Object(n.b)("//www.meetingshop.cn/order/getPayInfo","post",a).then(function(a){if(a&&a)if(0==a.status){if(r.showQrcode=!0,r.qrcodeImg=a.imgPre+a.data.qRCodeAddress,r.tryNums++,r.qrcodeImg){clearTimeout(e);var o={orderId:a.data.orderId,tryNums:r.tryNums};e=setTimeout(function(){Object(n.b)("//www.meetingshop.cn/order/getPayResult","post",o).then(function(t){t&&t&&t.data&&(0==t.data.orderStatus?t.data.orderMsg&&(alert(t.data.orderMsg),r.showQrcode=!1):1==t.data.orderStatus?t.data.orderMsg&&(alert(t.data.orderMsg),r.$router.push({path:"/myorder",query:{orderId:a.data.orderId,tryNums:r.tryNums}})):t.msg&&alert(t.msg))})},5e3)}}else a.msg&&(alert(a.msg),a.status&&700==a.status&&t.$router.push({path:"/login"}))},function(t){console.log(t)})}}}},YVbR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Oe00"),o=a("AYVu"),n=!1;var i=function(t){n||a("LiER")},s=a("VU/8")(r.a,o.a,!1,i,"data-v-42e2fba5",null);s.options.__file="pages/order.vue",e.default=s.exports},fnqc:function(t,e,a){t.exports=a.p+"img/warning.3267eef.png"},hhg8:function(t,e,a){t.exports=a.p+"img/cup.928b8fc.png"},kxFB:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},tlPq:function(t,e,a){var r=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,".order-container[data-v-42e2fba5]{padding-top:61px;width:1200px;margin:0 auto}.order-container .order-progress-bar[data-v-42e2fba5]{height:60px;width:100%;margin:40px 0;text-align:center}.order-container .order-progress-bar .step[data-v-42e2fba5]{float:left;width:25%}.order-container .order-progress-bar .step .step-num[data-v-42e2fba5]{color:#fff;font-size:12px;display:inline-block;width:16px;height:16px;line-height:16px;border-radius:10px;text-align:center;background-color:#ffd8d7;position:relative;top:10px}.order-container .order-progress-bar .step .bar[data-v-42e2fba5]{width:0;height:4px;border-left:150px solid #ffd8d7;border-right:150px solid #ffd8d7}.order-container .order-progress-bar .step .step-text[data-v-42e2fba5]{font-size:14px;color:#999;display:inline-block;margin-top:10px}.order-container .order-progress-bar .step.done .step-num[data-v-42e2fba5]{background-color:#f03d37}.order-container .order-progress-bar .step.done .bar[data-v-42e2fba5]{border-color:#f03d37}.order-container .order-progress-bar .step.done .step-text[data-v-42e2fba5]{color:#f03d37}.order-container .order-progress-bar .step.first .bar[data-v-42e2fba5]{border-left-color:transparent!important}.order-container .order-progress-bar .step.last .bar[data-v-42e2fba5]{border-right-color:transparent!important}.order-container .count-down-wrapper[data-v-42e2fba5]{width:100%;height:120px;padding-top:20px;margin-bottom:40px;background-color:#fff3f3}.order-container .count-down-wrapper .count-down[data-v-42e2fba5]{padding-left:55px;min-height:41px;margin-left:30px;background:url("+r(a("hhg8"))+") no-repeat;background-position:0 17px}.order-container .count-down-wrapper .time-left[data-v-42e2fba5]{font-size:16px;color:#666;margin-bottom:4px}.order-container .count-down-wrapper .time-left .minute[data-v-42e2fba5],.order-container .count-down-wrapper .time-left .second[data-v-42e2fba5]{font-size:32px;color:#f03d37;margin:0 5px}.order-container .count-down-wrapper .tip[data-v-42e2fba5]{font-size:14px;color:#f03d37}.order-container .warning[data-v-42e2fba5]{font-size:12px;color:#666;padding-left:18px;background:url("+r(a("fnqc"))+') no-repeat;background-size:12px;background-position-y:2px;margin-bottom:8px}.order-container .warning .attention[data-v-42e2fba5]{color:#faaf00}.order-container .order-table[data-v-42e2fba5]{width:100%;border:1px solid #e5e5e5;border-spacing:0;margin-bottom:60px}.order-container .order-table thead[data-v-42e2fba5]{background-color:#f7f7f7}.order-container .order-table thead th[data-v-42e2fba5]{font-size:16px;color:#333;width:25%;padding:14px 0;font-weight:400}.order-container .order-table td[data-v-42e2fba5]{text-align:center;padding:20px 0;color:#333}.order-container .order-table td .movie-name[data-v-42e2fba5]{font-size:16px}.order-container .order-table td .showtime[data-v-42e2fba5]{font-size:14px;color:#f03d37}.order-container .order-table td .cinema-name[data-v-42e2fba5]{font-size:14px}.order-container .order-table td .hall[data-v-42e2fba5]{display:inline-block;font-size:14px;color:#424242;font-weight:700;margin-right:10px;vertical-align:top}.order-container .order-table td .seats[data-v-42e2fba5]{display:inline-block;text-align:left}.order-container .order-table td .seats span[data-v-42e2fba5]{font-size:12px;margin-right:2px}.order-container .order-table td .seats span i[data-v-42e2fba5]{font-size:16px;font-style:normal;margin:0 2px}.order-container .order-table td .seats span.border[data-v-42e2fba5]{border-left:1px solid #e5e5e5;padding-left:5px}.order-container .right[data-v-42e2fba5]{text-align:right;margin-bottom:50px}.order-container .right .price-wrapper[data-v-42e2fba5]{font-size:14px;color:#333;margin-bottom:17px}.order-container .right .price-wrapper .price[data-v-42e2fba5]{font-size:36px;color:#ff6637}.order-container .right .price-wrapper .price[data-v-42e2fba5]:before{content:"\\FFE5";font-size:24px}.order-container .right .order-pay[data-v-42e2fba5]{position:relative}.order-container .right .order-pay .pay-btn[data-v-42e2fba5]{cursor:pointer;display:inline-block;width:190px;height:42px;line-height:42px;text-align:center;color:#fff;background-color:#ff6637;border-radius:100px;-webkit-box-shadow:0 2px 10px -2px #ff6637;box-shadow:0 2px 10px -2px #ff6637}.order-container .right .order-pay .pay-btn[data-v-42e2fba5]:hover{background-color:#f73f41;-webkit-box-shadow:0 2px 10px -2px #f73f41;box-shadow:0 2px 10px -2px #f73f41}.order-container .right .order-pay .qrcode[data-v-42e2fba5]{position:absolute;right:20px;bottom:44px}.order-container .right .order-pay .qrcode img[data-v-42e2fba5]{width:150px}.order-container .modal-container[data-v-42e2fba5]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;background-color:rgba(0,0,0,.4)}.order-container .modal-container .modal[data-v-42e2fba5]{width:460px;height:220px;padding:30px 0;position:absolute;margin:auto;top:0;right:0;bottom:0;left:0;background-color:#fff;text-align:center}.order-container .modal-container .modal .icon[data-v-42e2fba5]{display:inline-block;width:50px;height:50px;background:url('+r(a("fnqc"))+") no-repeat}.order-container .modal-container .modal .tip[data-v-42e2fba5]{font-size:14px;color:#666;margin-bottom:26px;margin-top:12px}.order-container .modal-container .modal .ok-btn[data-v-42e2fba5]{border-radius:100px;height:42px;line-height:42px;font-size:16px;width:260px;padding:0;cursor:default;color:#fff;background-color:#ff6637;-webkit-box-shadow:0 2px 10px -2px #ff6637;box-shadow:0 2px 10px -2px #ff6637}.order-container .modal-container .modal .ok-btn[data-v-42e2fba5]:hover{background-color:#f73f41;-webkit-box-shadow:0 2px 10px -2px #f73f41;box-shadow:0 2px 10px -2px #f73f41}",""])}});